import 'dart:convert';import 'dart:io';import 'package:innaya_app/core/api_config.dart';import 'package:innaya_app/features/feature_auth/data/model/result_respone.dart';import 'package:innaya_app/features/feature_auth/data/model/user.dart';import 'package:innaya_app/localization/lang/message.dart';import 'package:http/http.dart' as http;import 'package:get/get.dart';import 'package:innaya_app/core/PreferenceUtils.dart';abstract class RemoteLoginWithSocialResourse{  Future<ResultRespone>loginWithSocialUser(var body);}class RemoteLoginWithSocialResourseImpl implements RemoteLoginWithSocialResourse{  @override  Future<ResultRespone> loginWithSocialUser(var body) async {    ResultRespone mResultRespone;    // TODO: implement registerUser    Map<String, String> HeaderType;    var url = Uri.parse('${apiUrl}customer/socialite/login');    // var url = Uri.https(RootUrl, '${pathRootUrl}user/login');    //  url = RootUrl+"v1/user/login";    HeaderType = Header(0);    print(url);    var client = http.Client();    try {      var response = await client.post(        url,        headers: HeaderType,        body: jsonEncode(body),      );      print(response.statusCode);      if (response.statusCode == 200) {        var jsonDatapject = jsonDecode(response.body);        print(jsonDatapject);        await PreferenceUtils.setUser(User.fromJson(jsonDatapject['data']));        await PreferenceUtils.setToken(jsonDatapject['token']);        mResultRespone=ResultRespone(status: true);        //  await PreferenceUtils.setIDShope(jsonDatapject['data']['shop_id'].toString());        //await PreferenceUtils.setMyShop(Shop.fromJson(jsonDatapject['data']));        mResultRespone = ResultRespone(status: true,message: kDone.tr);        print(response.body);      } else {        var jsonDatapject = jsonDecode(response.body);        mResultRespone =            ResultRespone(status: false, message: jsonDatapject['message']);      }      print("Login");      print(response.body);      return mResultRespone;    } finally {      client.close();    }    // print(url);    return mResultRespone;  }}